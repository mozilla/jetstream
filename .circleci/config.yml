version: 2
jobs:
  build:
    docker:
    - image: python:3.8
    steps:
    - checkout
    - &build
      run:
        name: Build
        command: |
          python3.8 -m venv venv/
          venv/bin/pip install --upgrade -r requirements.txt
    - run:
        name: PyTest
        command: venv/bin/pytest  --black --docstyle --flake8

workflows:
  version: 2
  build:
    jobs:
      - build
